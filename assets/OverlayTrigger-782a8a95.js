import{r as a,a2 as Z,a3 as B,a4 as ee,a5 as te,S as P,j as p,k as b,a6 as L,a7 as D,a8 as W,$ as ne,a9 as se,a1 as H,aa as M,ab as oe,ac as ae,ad as re,ae as le,af as ie}from"./index-580402c3.js";import{u as U,a as ce,m as ue}from"./mergeOptionsWithPopperConfig-360a23b4.js";import{u as de}from"./useRootClose-50b94eed.js";const z=a.forwardRef((e,t)=>{const{flip:n,offset:s,placement:o,containerPadding:c,popperConfig:h={},transition:g,runTransition:u}=e,[m,y]=U(),[O,R]=U(),d=Z(y,t),i=B(e.container),T=B(e.target),[r,f]=a.useState(!e.show),l=ce(T,m,ue({placement:o,enableEvents:!!e.show,containerPadding:c||5,flip:n,offset:s,arrowElement:O,popperConfig:h}));e.show&&r&&f(!1);const x=(..._)=>{f(!0),e.onExited&&e.onExited(..._)},w=e.show||!r;if(de(m,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!w)return null;const{onExit:F,onExiting:C,onEnter:E,onEntering:j,onEntered:S}=e;let k=e.children(Object.assign({},l.attributes.popper,{style:l.styles.popper,ref:d}),{popper:l,placement:o,show:!!e.show,arrowProps:Object.assign({},l.attributes.arrow,{style:l.styles.arrow,ref:R})});return k=ee(g,u,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:F,onExiting:C,onExited:x,onEnter:E,onEntering:j,onEntered:S}),i?te.createPortal(k,i):null});z.displayName="Overlay";const fe=z,A=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},o)=>(t=P(t,"popover-header"),p.jsx(n,{ref:o,className:b(e,t),...s})));A.displayName="PopoverHeader";const he=A,q=a.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},o)=>(t=P(t,"popover-body"),p.jsx(n,{ref:o,className:b(e,t),...s})));q.displayName="PopoverBody";const G=q;function J(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function K(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Q=a.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:o,body:c,arrowProps:h,hasDoneInitialMeasure:g,popper:u,show:m,...y},O)=>{const R=P(e,"popover"),d=L(),[i]=(t==null?void 0:t.split("-"))||[],T=J(i,d);let r=s;return m&&!g&&(r={...s,...K(u==null?void 0:u.strategy)}),p.jsxs("div",{ref:O,role:"tooltip",style:r,"x-placement":i,className:b(n,R,i&&`bs-popover-${T}`),...y,children:[p.jsx("div",{className:"popover-arrow",...h}),c?p.jsx(G,{children:o}):o]})});Q.displayName="Popover";const me=Object.assign(Q,{Header:he,Body:G,POPPER_OFFSET:[0,8]}),V=a.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:s,children:o,arrowProps:c,hasDoneInitialMeasure:h,popper:g,show:u,...m},y)=>{e=P(e,"tooltip");const O=L(),[R]=(t==null?void 0:t.split("-"))||[],d=J(R,O);let i=s;return u&&!h&&(i={...s,...K(g==null?void 0:g.strategy)}),p.jsxs("div",{ref:y,style:i,role:"tooltip","x-placement":R,className:b(n,e,`bs-tooltip-${d}`),...m,children:[p.jsx("div",{className:"tooltip-arrow",...c}),p.jsx("div",{className:`${e}-inner`,children:o})]})});V.displayName="Tooltip";const pe=Object.assign(V,{TOOLTIP_OFFSET:[0,6]});function ve(e){const t=a.useRef(null),n=P(void 0,"popover"),s=P(void 0,"tooltip"),o=a.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(D(t.current,n))return me.POPPER_OFFSET;if(D(t.current,s))return pe.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,s]);return[t,[o]]}function ge(e,t){const{ref:n}=e,{ref:s}=t;e.ref=n.__wrapped||(n.__wrapped=o=>n(M(o))),t.ref=s.__wrapped||(s.__wrapped=o=>s(M(o)))}const X=a.forwardRef(({children:e,transition:t=H,popperConfig:n={},rootClose:s=!1,placement:o="top",show:c=!1,...h},g)=>{const u=a.useRef({}),[m,y]=a.useState(null),[O,R]=ve(h.offset),d=W(g,O),i=t===!0?H:t||void 0,T=ne(r=>{y(r),n==null||n.onFirstUpdate==null||n.onFirstUpdate(r)});return se(()=>{m&&h.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[m,h.target]),a.useEffect(()=>{c||y(null)},[c]),p.jsx(fe,{...h,ref:d,popperConfig:{...n,modifiers:R.concat(n.modifiers||[]),onFirstUpdate:T},transition:i,rootClose:s,placement:o,show:c,children:(r,{arrowProps:f,popper:l,show:x})=>{var w;ge(r,f);const F=l==null?void 0:l.placement,C=Object.assign(u.current,{state:l==null?void 0:l.state,scheduleUpdate:l==null?void 0:l.update,placement:F,outOfBoundaries:(l==null||(w=l.state)==null||(w=w.modifiersData.hide)==null?void 0:w.isReferenceHidden)||!1,strategy:n.strategy}),E=!!m;return typeof e=="function"?e({...r,placement:F,show:x,...!t&&x&&{className:"show"},popper:C,arrowProps:f,hasDoneInitialMeasure:E}):a.cloneElement(e,{...r,placement:F,arrowProps:f,popper:C,hasDoneInitialMeasure:E,className:b(e.props.className,!t&&x&&"show"),style:{...e.props.style,...r.style}})}})});X.displayName="Overlay";const ye=X;function Oe(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function I(e,t,n){const[s]=t,o=s.currentTarget,c=s.relatedTarget||s.nativeEvent[n];(!c||c!==o)&&!ie(o,c)&&e(...t)}oe.oneOf(["click","hover","focus"]);const Re=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:s={},show:o,defaultShow:c=!1,onToggle:h,delay:g,placement:u,flip:m=u&&u.indexOf("auto")!==-1,...y})=>{const O=a.useRef(null),R=W(O,ae(n)),d=re(),i=a.useRef(""),[T,r]=le(o,c,h),f=Oe(g),{onFocus:l,onBlur:x,onClick:w}=typeof n!="function"?a.Children.only(n).props:{},F=v=>{R(M(v))},C=a.useCallback(()=>{if(d.clear(),i.current="show",!f.show){r(!0);return}d.set(()=>{i.current==="show"&&r(!0)},f.show)},[f.show,r,d]),E=a.useCallback(()=>{if(d.clear(),i.current="hide",!f.hide){r(!1);return}d.set(()=>{i.current==="hide"&&r(!1)},f.hide)},[f.hide,r,d]),j=a.useCallback((...v)=>{C(),l==null||l(...v)},[C,l]),S=a.useCallback((...v)=>{E(),x==null||x(...v)},[E,x]),k=a.useCallback((...v)=>{r(!T),w==null||w(...v)},[w,r,T]),_=a.useCallback((...v)=>{I(C,v,"fromElement")},[C]),Y=a.useCallback((...v)=>{I(E,v,"toElement")},[E]),$=e==null?[]:[].concat(e),N={ref:F};return $.indexOf("click")!==-1&&(N.onClick=k),$.indexOf("focus")!==-1&&(N.onFocus=j,N.onBlur=S),$.indexOf("hover")!==-1&&(N.onMouseOver=_,N.onMouseOut=Y),p.jsxs(p.Fragment,{children:[typeof n=="function"?n(N):a.cloneElement(n,N),p.jsx(ye,{...y,show:T,onHide:E,flip:m,placement:u,popperConfig:s,target:O.current,children:t})]})},xe=Re;export{xe as O,me as P,pe as T};
