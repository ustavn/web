import{r as s,an as k,w as D,t as v,I as m,j as R}from"./index-06363132.js";import{u as I}from"./useWindow-1f489724.js";import{u as b}from"./useMergedRefs-e9e0393c.js";const M=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",S=typeof document<"u",j=S||M?s.useLayoutEffect:s.useEffect,h=(n,e)=>k?n==null?(e||D()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function J(n,e){const i=I(),[t,o]=s.useState(()=>h(n,i==null?void 0:i.document));if(!t){const r=h(n);r&&o(r)}return s.useEffect(()=>{e&&t&&e(t)},[e,t]),s.useEffect(()=>{const r=h(n);r!==t&&o(r)},[n,t]),t}function W({children:n,in:e,onExited:i,mountOnEnter:t,unmountOnExit:o}){const r=s.useRef(null),c=s.useRef(e),a=v(i);s.useEffect(()=>{e?c.current=!0:a(r.current)},[e,a]);const l=b(r,m(n)),u=s.cloneElement(n,{ref:l});return e?u:o||!c.current&&t?null:u}const G=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function N(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}function $(n){let{onEnter:e,onEntering:i,onEntered:t,onExit:o,onExiting:r,onExited:c,addEndListener:a,children:l}=n,u=N(n,G);const d=s.useRef(null),E=b(d,m(l)),f=x=>g=>{x&&d.current&&x(d.current,g)},O=s.useCallback(f(e),[e]),C=s.useCallback(f(i),[i]),T=s.useCallback(f(t),[t]),p=s.useCallback(f(o),[o]),y=s.useCallback(f(r),[r]),w=s.useCallback(f(c),[c]),L=s.useCallback(f(a),[a]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:O},i&&{onEntering:C},t&&{onEntered:T},o&&{onExit:p},r&&{onExiting:y},c&&{onExited:w},a&&{addEndListener:L},{children:typeof l=="function"?(x,g)=>l(x,Object.assign({},g,{ref:E})):s.cloneElement(l,{ref:E})})}const F=["component"];function _(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}const z=s.forwardRef((n,e)=>{let{component:i}=n,t=_(n,F);const o=$(t);return R.jsx(i,Object.assign({ref:e},o))}),A=z;function B({in:n,onTransition:e}){const i=s.useRef(null),t=s.useRef(!0),o=v(e);return j(()=>{if(!i.current)return;let r=!1;return o({in:n,element:i.current,initial:t.current,isStale:()=>r}),()=>{r=!0}},[n,o]),j(()=>(t.current=!1,()=>{t.current=!0}),[]),i}function U({children:n,in:e,onExited:i,onEntered:t,transition:o}){const[r,c]=s.useState(!e);e&&r&&c(!1);const a=B({in:!!e,onTransition:u=>{const d=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),i==null||i(u.element)))};Promise.resolve(o(u)).then(d,E=>{throw u.in||c(!0),E})}}),l=b(a,m(n));return r&&!e?null:s.cloneElement(n,{ref:l})}function K(n,e,i){return n?R.jsx(A,Object.assign({},i,{component:n})):e?R.jsx(U,Object.assign({},i,{transition:e})):R.jsx(W,Object.assign({},i))}function P(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{P as h,K as r,J as u};
