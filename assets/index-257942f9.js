import{r as m,q as S,s as U,j as e,k as x,L as j,c as b,h as N,i as u,F as C,T as k,P as O}from"./index-8cecca46.js";import{S as w}from"./index-d34f456e.js";import{u as y}from"./avatar-1-34f0c02a.js";import{u as A}from"./avatar-2-fb074e79.js";import{u as E}from"./avatar-3-e758e500.js";import{u as F}from"./avatar-4-6f552de6.js";import{u as I}from"./avatar-5-d7e2ba35.js";import{u as G}from"./avatar-6-5034df04.js";import{a as T}from"./avatar-7-a17d005f.js";import{a as W}from"./avatar-8-d2c9a873.js";import{a as H}from"./avatar-9-009a64b2.js";import{D as i}from"./Dropdown-432fc7c8.js";import{B as L}from"./Button-1b68487e.js";import"./import-5d1019cb.js";import"./mergeOptionsWithPopperConfig-5e022e89.js";import"./useClickOutside-3cacbdc8.js";import"./InputGroupContext-3a37fd35.js";const h=[{id:1,name:"Brandon Smith",avatar:A,lastMessage:"How are you today?",totalUnread:3,lastMessageOn:"4:30am",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:2,name:"Maria C",avatar:I,lastMessage:"Hey! a reminder for tomorrow's meeting?",lastMessageOn:"5:30am",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:3,name:"Dominic A",avatar:F,lastMessage:"Are we going to have this week's planning meeting?",totalUnread:2,lastMessageOn:"Thu",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:4,name:"Ronda D",avatar:H,lastMessage:"Please check these design assets..",lastMessageOn:"Wed",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:5,name:"Michael H",avatar:G,lastMessage:"Are you free for 15 mins? I would like to discuss something",totalUnread:6,lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:6,name:"Thomas R",avatar:T,lastMessage:"Let's have meeting today between me, you and Tony...",lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:7,name:"Thomas J",avatar:W,lastMessage:"Howdy?",lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:8,name:"Rikcy J",avatar:E,lastMessage:"Are you interested in learning?",totalUnread:28,lastMessageOn:"Mon",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Friends"}],M=[],c={id:9,name:"Shreyu N",avatar:y,email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"};for(const s of h)M.push({id:1,message:{type:"text",value:{text:"Hello!"}},to:c,from:s,sendOn:"10:00"},{id:2,message:{type:"text",value:{text:"Hi, How are you? What about our next meeting?"}},to:s,from:c,sendOn:"10:01"},{id:3,message:{type:"text",value:{text:"Yeah everything is fine"}},to:c,from:s,sendOn:"10:01"},{id:4,message:{type:"text",value:{text:"Awesome!"}},to:s,from:c,sendOn:"10:02"},{id:5,message:{type:"text",value:{text:"Let's have it today if you are free"}},to:c,from:s,sendOn:"10:03"},{id:6,message:{type:"text",value:{text:"Sure thing! let me know if 2pm works for you"}},to:s,from:c,sendOn:"10:03"},{id:7,message:{type:"text",value:{text:"Sorry, I have another meeting scheduled at 2pm. Can we have it at 3pm instead?"}},to:c,from:s,sendOn:"10:04"},{id:8,message:{type:"text",value:{text:"We can also discuss about the presentation talk format if you have some extra mins"}},to:c,from:s,sendOn:"10:04"},{id:9,message:{type:"text",value:{text:"3pm it is. Sure, let's discuss about presentation format, it would be great to finalize today. I am attaching the last year format and assets here.."}},to:s,from:c,sendOn:"10:05"},{id:10,message:{type:"file",value:{file:"Hyper-admin.zip",size:"2.3MB"}},to:s,from:c,sendOn:"10:05"});function B(){const[s,a]=m.useState(h[1]);return{selectedUser:s,onUserChange:n=>{a(n)}}}function D(s){const[a,r]=m.useState([...h]),[n,o]=m.useState(h[1]),[p,l]=m.useState("All");return{user:a,selectedUser:n,selectedGroup:p,filterUsers:d=>{l(d),r(d!=="All"?[...h].filter(v=>v.groups.toLowerCase().indexOf(d.toLowerCase())>=0):[...h])},search:d=>{r(d?[...h].filter(v=>v.name.toLowerCase().indexOf(d.toLowerCase())>=0):[...h])},activateUser:d=>{o(d),s&&s(d)}}}const R=S().shape({newMessage:U().required("Please enter your messsage")});function P(s){const[a,r]=m.useState([]),[n]=m.useState({id:9,name:"Shreyu N",avatar:y,email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"}),o=m.useCallback(()=>{s&&r([...M.filter(l=>l.to.id===n.id&&l.from.id===s.id||n.id===l.from.id&&l.to.id===s.id)])},[s,n]);return m.useEffect(()=>{o()},[o]),{toUser:n,userMessages:a,sendChatMessage:l=>{let g=[...a];g.push({id:a.length+1,from:n,to:s,message:{type:"text",value:{text:l.newMessage}},sendOn:new Date().getHours()+":"+new Date().getMinutes()}),setTimeout(()=>{let t=[...g];t.push({id:a.length+1,from:s,to:n,message:{type:"text",value:{text:l.newMessage}},sendOn:new Date().getHours()+":"+new Date().getMinutes()}),r(t)},1e3),r(g)}}}const z=({onUserSelect:s})=>{const a=["All","Favourties","Friends"],{user:r,selectedUser:n,selectedGroup:o,filterUsers:p,search:l,activateUser:g}=D(s);return e.jsx(x,{children:e.jsxs(x.Body,{className:"p-0",children:[e.jsx("ul",{className:"nav nav-tabs nav-bordered",children:a.map((t,f)=>e.jsx("li",{className:"nav-item",onClick:()=>p(t),children:e.jsx(j,{to:"",className:b("nav-link","py-2",{active:o===t}),children:t})},f))}),e.jsx("div",{className:"tab-content",children:e.jsxs("div",{className:"tab-pane show active card-body pb-0",children:[e.jsx("div",{className:"app-search",children:e.jsx("form",{children:e.jsxs("div",{className:"mb-2 w-100 position-relative form-group",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"People, groups & messages...",onChange:t=>l(t.target.value)}),e.jsx("span",{className:"mdi mdi-magnify search-icon"})]})})}),e.jsx(w,{style:{maxHeight:"550px",width:"100%"},children:r.map((t,f)=>e.jsx(j,{to:"",className:"text-body",onClick:()=>{g(t)},children:e.jsxs("div",{className:b("d-flex","align-items-start","mt-1","p-2",{"bg-light":t.id===n.id}),children:[e.jsx("img",{src:t.avatar,className:"me-2 rounded-circle",height:"48",alt:""}),e.jsxs("div",{className:"w-100 overflow-hidden",children:[e.jsxs("h5",{className:"mt-0 mb-0 font-14",children:[e.jsx("span",{className:"float-end text-muted font-12",children:t.lastMessageOn}),t.name]}),e.jsxs("p",{className:"mt-1 mb-0 text-muted font-14",children:[e.jsx("span",{className:"w-25 float-end text-end",children:t.totalUnread&&e.jsx("span",{className:"badge badge-danger-lighten",children:t.totalUnread})}),e.jsx("span",{className:"w-75",children:t.lastMessage})]})]})]})},f))})]})})]})})},J=({message:s,toUser:a})=>e.jsxs("li",{className:b("clearfix",{odd:s.from.id===a.id}),children:[e.jsxs("div",{className:"chat-avatar",children:[e.jsx("img",{src:s.from.avatar,className:"rounded",alt:""}),e.jsx("i",{children:s.sendOn})]}),e.jsxs("div",{className:"conversation-text",children:[e.jsxs("div",{className:"ctext-wrap",children:[e.jsx("i",{children:s.from.name}),s.message.type==="text"&&e.jsx("p",{children:s.message.value.text})]}),s.message.type==="file"&&e.jsx(x,{className:"mt-2 mb-1 shadow-none border text-start",children:e.jsx("div",{className:"p-2",children:e.jsxs(N,{className:"align-items-center",children:[e.jsx(u,{className:"col-auto",children:e.jsx("div",{className:"avatar-sm",children:e.jsx("span",{className:"avatar-title rounded",children:e.jsx("i",{className:"uil uil-file-upload-alt font-20"})})})}),e.jsxs(u,{className:"ps-0",children:[e.jsx(j,{to:"",className:"text-muted fw-bold",children:s.message.value.file}),e.jsx("p",{className:"mb-0",children:s.message.value.size})]}),e.jsx(u,{className:"col-auto",children:e.jsx(j,{to:"",className:"btn btn-link btn-lg text-muted",children:e.jsx("i",{className:"ri-download-2-line"})})})]})})})]}),e.jsxs(i,{className:"conversation-actions",align:"end",children:[e.jsx(i.Toggle,{variant:"link",className:"btn btn-sm btn-link arrow-none shadow-none",children:e.jsx("i",{className:"uil uil-ellipsis-v"})}),e.jsxs(i.Menu,{children:[e.jsx(i.Item,{children:"Copy Messaget"}),e.jsx(i.Item,{children:"Edit"}),e.jsx(i.Item,{children:"Delete"})]})]})]}),Y=()=>{const s=m.useRef(null);return m.useEffect(()=>{s&&s.current&&s.current.scrollIntoView&&s.current.scrollIntoView({behavior:"smooth"})}),e.jsx("div",{ref:s})},V=({selectedUser:s})=>{const{toUser:a,userMessages:r,sendChatMessage:n}=P(s);return e.jsx(x,{children:e.jsxs(x.Body,{className:"position-relative px-0 pb-0",children:[e.jsx(w,{style:{height:"538px",width:"100%"},children:e.jsxs("ul",{className:"conversation-list px-3",children:[r.map((o,p)=>e.jsx(J,{message:o,toUser:a},p.toString())),e.jsx(Y,{})]})}),e.jsx(N,{className:"px-3 pb-3",children:e.jsx(u,{children:e.jsx("div",{className:"mt-2 bg-light p-3 rounded",children:e.jsx(C,{name:"chat-form",id:"chat-form",onSubmit:n,schema:R,children:e.jsxs(N,{children:[e.jsx("div",{className:"col mb-2 mb-sm-0",children:e.jsx(k,{type:"text",name:"newMessage",className:"border-0",placeholder:"Enter your text"},"newMessage")}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("div",{className:"btn-group",children:[e.jsx(j,{to:"",className:"btn btn-light",children:e.jsx("i",{className:"uil uil-paperclip"})}),e.jsx(j,{to:"",className:"btn btn-light",children:e.jsx("i",{className:"uil uil-smile"})}),e.jsx("button",{type:"submit",className:"btn btn-success chat-send btn-block",children:e.jsx("i",{className:"uil uil-message"})})]})})]})})})})})]})})},q=({selectedUser:s})=>{const a=s||{},r=a.groups?a.groups.split(","):[];return e.jsx(e.Fragment,{children:a&&e.jsx(x,{children:e.jsxs(x.Body,{children:[e.jsxs(i,{className:"float-end",align:"end",children:[e.jsx(i.Toggle,{variant:"link",className:"arrow-none card-drop p-0 shadow-none",children:e.jsx("i",{className:"mdi mdi-dots-horizontal"})}),e.jsxs(i.Menu,{children:[e.jsx(i.Item,{children:"View Full"}),e.jsx(i.Item,{children:"Edit Contact Info"}),e.jsx(i.Item,{children:"Remove"})]})]}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsx("img",{src:a.avatar,alt:"",className:"img-thumbnail avatar-lg rounded-circle"}),e.jsx("h4",{children:a.name}),e.jsxs(L,{className:"btn-sm mt-1",color:"primary",children:[e.jsx("i",{className:"uil uil-envelope-add me-1"}),"Send Email"]}),e.jsxs("p",{className:"text-muted mt-2 font-14",children:["Last Interacted: ",e.jsx("strong",{children:a.lastMessageOn})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("hr",{className:""}),e.jsx("p",{className:"mt-4 mb-1",children:e.jsxs("strong",{children:[e.jsx("i",{className:"uil uil-at"})," Email:"]})}),e.jsx("p",{children:a.email}),e.jsx("p",{className:"mt-3 mb-1",children:e.jsxs("strong",{children:[e.jsx("i",{className:"uil uil-phone"})," Phone Number:"]})}),e.jsx("p",{children:a.phone}),e.jsx("p",{className:"mt-3 mb-1",children:e.jsxs("strong",{children:[e.jsx("i",{className:"uil uil-location"})," Location:"]})}),e.jsx("p",{children:a.location}),e.jsx("p",{className:"mt-3 mb-1",children:e.jsxs("strong",{children:[e.jsx("i",{className:"uil uil-globe"})," Languages:"]})}),e.jsx("p",{children:a.languages}),e.jsx("p",{className:"mt-3 mb-2",children:e.jsxs("strong",{children:[e.jsx("i",{className:"uil uil-users-alt"})," Groups:"]})}),e.jsx("p",{children:r.map((n,o)=>e.jsx("span",{className:"badge badge-success-lighten p-1 font-14 me-1",children:n},o.toString()))})]})]})})})},de=()=>{const{selectedUser:s,onUserChange:a}=B();return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:"Chat",subName:"Apps"}),e.jsxs(N,{children:[e.jsx(u,{xxl:3,xl:{span:6,order:1},children:e.jsx(z,{onUserSelect:a})}),e.jsx(u,{xxl:6,xl:{span:12,order:2},children:e.jsx(V,{selectedUser:s})}),e.jsx(u,{xxl:{span:3,order:2},xl:{span:6,order:1},children:e.jsx(q,{selectedUser:s})})]})]})};export{de as default};
