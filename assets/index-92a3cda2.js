import{bo as m,j as e,P as o,d as a,f as r,h as n,aW as x}from"./index-049ade0a.js";import{u as h}from"./useQuery-4147274f.js";import{S as j}from"./Spinner-bee679bc.js";import{A as c}from"./Alert-7f154918.js";function f(){return h({queryKey:["userProfile"],queryFn:m,staleTime:5*60*1e3,retry:2,refetchOnWindowFocus:!1})}const b=()=>{var i;const{data:s,isLoading:d,error:l,refetch:t}=f();return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"My Profile",subName:"Apps"}),e.jsx(a,{children:e.jsx(r,{xs:12,children:e.jsx(n,{children:e.jsx(n.Body,{children:d?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(j,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Loading profile..."})]}):l?e.jsxs(c,{variant:"danger",children:[e.jsx("h5",{children:"Failed to load profile"}),e.jsx("p",{children:l.message}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>t(),children:"Try Again"})]}):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"rounded-circle",style:{width:"120px",height:"120px",objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"48px"},children:((i=s.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),e.jsx("h3",{className:"mt-3 mb-1",children:s.name}),s.role&&e.jsx(x,{bg:"primary",className:"mb-2",children:s.role}),e.jsx("p",{className:"text-muted",children:s.email})]}),e.jsxs(a,{children:[e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"User ID"}),e.jsx("div",{className:"form-control-plaintext",children:e.jsx("code",{children:s.id})})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Email"}),e.jsx("div",{className:"form-control-plaintext",children:s.email})]})})]}),e.jsxs(a,{children:[e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Username"}),e.jsx("div",{className:"form-control-plaintext",children:s.username||"-"})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Phone Number"}),e.jsx("div",{className:"form-control-plaintext",children:s.phoneNumber||"-"})]})})]}),s.createdAt&&e.jsxs(a,{children:[e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Account Created"}),e.jsx("div",{className:"form-control-plaintext",children:new Date(s.createdAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})}),s.updatedAt&&e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Last Updated"}),e.jsx("div",{className:"form-control-plaintext",children:new Date(s.updatedAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{children:"Raw Profile Data"}),e.jsx("pre",{className:"bg-light p-3 rounded",children:e.jsx("code",{children:JSON.stringify(s,null,2)})})]})]}):e.jsx(c,{variant:"warning",children:"No profile data available"})})})})})]})},v=()=>e.jsx(b,{});export{v as default};
