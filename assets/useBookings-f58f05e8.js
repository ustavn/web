import{u as a}from"./useQuery-7a767153.js";import{a6 as t,a7 as r,a8 as c,a9 as i}from"./index-313c439a.js";import{u as s}from"./useMutation-12185b08.js";async function g(e){const n={Page:e.page,PageSize:e.pageSize,Status:e.status};e.keyword&&(n.Keyword=e.keyword),e.createdBy&&(n.CreatedBy=e.createdBy),e.technicianId&&(n.TechnicianId=e.technicianId),e.assignedToId&&(n.AssignedToId=e.assignedToId),e.bookingFrom&&(n.BookingFrom=e.bookingFrom),e.bookingTo&&(n.BookingTo=e.bookingTo);const o=await t.get("/bookings",{params:n}),u=c(o);return{items:u.items,totalCount:u.total,page:u.page,pageSize:u.pageSize,totalPages:u.totalPages}}async function y(e){const n=await t.post("/bookings",e);return r(n)}async function k(e){const n=await t.get(`/bookings/${e}`);return r(n)}async function l(e){return(await t.post(`/bookings/${e}/enroute`)).data}async function d(e){return(await t.post(`/bookings/${e}/checkin`)).data}async function b(e){return(await t.post(`/bookings/${e}/start`)).data}async function f(e){return(await t.post(`/bookings/${e}/finish`)).data}async function q(e){return(await t.post(`/bookings/${e}/cancel-by-user`)).data}async function B(e){return(await t.post(`/bookings/${e}/cancel-by-tech`)).data}function Q(e){const n={page:(e==null?void 0:e.page)??1,pageSize:(e==null?void 0:e.pageSize)??10,status:(e==null?void 0:e.status)??[0,1,2,3,4,5,6,7,8],...e};return a({queryKey:["bookings",n],queryFn:()=>g(n),staleTime:3e4,retry:2,enabled:!!n.status&&n.status.length>0})}function S(e){return a({queryKey:["booking",e],queryFn:()=>k(e),enabled:!!e&&e.length>0,staleTime:3e4,retry:2})}function v(){const e=i();return s({mutationFn:n=>y(n),onSuccess:()=>{e.invalidateQueries({queryKey:["bookings"]})}})}function F(){const e=i();return s({mutationFn:n=>l(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}function w(){const e=i();return s({mutationFn:n=>d(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}function p(){const e=i();return s({mutationFn:n=>b(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}function T(){const e=i();return s({mutationFn:n=>f(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}function I(){const e=i();return s({mutationFn:n=>q(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}function P(){const e=i();return s({mutationFn:n=>B(n),onSuccess:(n,o)=>{e.invalidateQueries({queryKey:["bookings"]}),e.invalidateQueries({queryKey:["booking",o]})}})}export{v as a,S as b,F as c,w as d,p as e,T as f,I as g,P as h,Q as u};
