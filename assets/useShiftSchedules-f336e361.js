import{u as a}from"./useQuery-6c10f0fe.js";import{a5 as o,a6 as n}from"./index-f2719a80.js";import{u}from"./useMutation-2bc86ccc.js";const c="https://api.dev.usta.vn",s=o.create({baseURL:`${c}/api`,timeout:3e4,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(async e=>{const t=localStorage.getItem("_USTA_OAUTH");if(t)try{const r=JSON.parse(t);e.headers.Authorization=`Bearer ${r.accessToken}`}catch{}return e},e=>Promise.reject(e));s.interceptors.response.use(e=>e,e=>Promise.reject(e));async function i(e={}){const t=await s.get("/shift-schedules/",{params:e});if(t.data.success)return t.data.data;throw new Error(t.data.error||"Failed to fetch shift schedules")}async function h(e){try{const t=await s.post("/shift-schedules/",e);if(t.data.success)return t.data.data;throw new Error(t.data.error||"Failed to create shift schedule")}catch(t){throw t}}function p(e={}){return a({queryKey:["shift-schedules",e],queryFn:()=>i(e),staleTime:3e4,retry:2,select:t=>t||[]})}function y(){const e=n();return u({mutationFn:t=>h(t),onSuccess:()=>{e.invalidateQueries({queryKey:["shift-schedules"]})}})}export{y as a,p as u};
