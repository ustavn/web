import{a_ as m,j as e,P as o,d as a,f as s,h as n}from"./index-e82313e5.js";import{u as x}from"./useQuery-fea835bf.js";import{S as h}from"./Spinner-4926c0ae.js";import{A as c}from"./Alert-f4c67321.js";import{B as j}from"./Badge-f24d8f9c.js";import"./hook-ac17fc52.js";function f(){return x({queryKey:["userProfile"],queryFn:m,staleTime:5*60*1e3,retry:2,refetchOnWindowFocus:!1})}const b=()=>{var i;const{data:r,isLoading:t,error:l,refetch:d}=f();return e.jsxs(e.Fragment,{children:[e.jsx(o,{title:"My Profile",subName:"Apps"}),e.jsx(a,{children:e.jsx(s,{xs:12,children:e.jsx(n,{children:e.jsx(n.Body,{children:t?e.jsxs("div",{className:"text-center py-5",children:[e.jsx(h,{animation:"border",variant:"primary"}),e.jsx("p",{className:"mt-2",children:"Loading profile..."})]}):l?e.jsxs(c,{variant:"danger",children:[e.jsx("h5",{children:"Failed to load profile"}),e.jsx("p",{children:l.message}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>d(),children:"Try Again"})]}):r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[r.avatar?e.jsx("img",{src:r.avatar,alt:r.name,className:"rounded-circle",style:{width:"120px",height:"120px",objectFit:"cover"}}):e.jsx("div",{className:"rounded-circle bg-primary text-white d-inline-flex align-items-center justify-content-center",style:{width:"120px",height:"120px",fontSize:"48px"},children:((i=r.name)==null?void 0:i.charAt(0).toUpperCase())||"U"}),e.jsx("h3",{className:"mt-3 mb-1",children:r.name}),r.role&&e.jsx(j,{bg:"primary",className:"mb-2",children:r.role}),e.jsx("p",{className:"text-muted",children:r.email})]}),e.jsxs(a,{children:[e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"User ID"}),e.jsx("div",{className:"form-control-plaintext",children:e.jsx("code",{children:r.id})})]})}),e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Email"}),e.jsx("div",{className:"form-control-plaintext",children:r.email})]})})]}),e.jsxs(a,{children:[e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Username"}),e.jsx("div",{className:"form-control-plaintext",children:r.username||"-"})]})}),e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Phone Number"}),e.jsx("div",{className:"form-control-plaintext",children:r.phoneNumber||"-"})]})})]}),r.createdAt&&e.jsxs(a,{children:[e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Account Created"}),e.jsx("div",{className:"form-control-plaintext",children:new Date(r.createdAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})}),r.updatedAt&&e.jsx(s,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"Last Updated"}),e.jsx("div",{className:"form-control-plaintext",children:new Date(r.updatedAt).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"})})]})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{children:"Raw Profile Data"}),e.jsx("pre",{className:"bg-light p-3 rounded",children:e.jsx("code",{children:JSON.stringify(r,null,2)})})]})]}):e.jsx(c,{variant:"warning",children:"No profile data available"})})})})})]})},w=()=>e.jsx(b,{});export{w as default};
