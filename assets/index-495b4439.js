import{q as h,s as c,r as l,n as g,b as f,d as j,o as b,j as e,N,P as w,F as y,T as L,L as m}from"./index-8cecca46.js";import{C as k}from"./CheckInput-8a1c1b7e.js";import{P as S}from"./PasswordInput-86beadfe.js";import{A as v}from"./AccountWrapper2-4b0c451a.js";import{a as A}from"./auth-b600547e.js";import{S as C}from"./SocialLogin-1e0963da.js";import{u as d}from"./useTranslation-205d0938.js";import{B as P}from"./Button-1b68487e.js";import"./InputGroup-f2503f86.js";import"./InputGroupContext-3a37fd35.js";import"./logo-dark-f86ae8c1.js";const E=h({email:c().email("Please enter valid email").required("Please enter email"),password:c().required("Please enter password")});function F(){const[t,o]=l.useState(!1),s=g(),r=f(),{isAuthenticated:n,saveSession:u}=j(),{showNotification:p}=b(),i=l.useMemo(()=>s.state&&s.state.from?s.state.from.pathname:"/",[s.state]);return{loading:t,login:async x=>{o(!0);try{const a=await A.login(x);a.data.token&&(u({...a.data??{},token:a.data.token}),r(i))}catch(a){p({message:a.toString(),type:"error"})}finally{o(!1)}},redirectUrl:i,isAuthenticated:n}}const I=()=>{const{t}=d();return e.jsx("footer",{className:"footer footer-alt",children:e.jsxs("p",{className:"text-muted",children:[t("Don't have an account?"),e.jsx(m,{to:"/account/register2",className:"text-muted ms-1",children:e.jsx("b",{children:t("Sign Up")})})]})})},H=()=>{const{t}=d(),{loading:o,login:s,redirectUrl:r,isAuthenticated:n}=F();return e.jsxs(e.Fragment,{children:[n&&e.jsx(N,{to:r,replace:!0}),e.jsx(w,{title:"Login"}),e.jsxs(v,{bottomLinks:e.jsx(I,{}),children:[e.jsx("h4",{className:"mt-0",children:t("Sign In")}),e.jsx("p",{className:"text-muted mb-4",children:t("Enter your email address and password to access account.")}),e.jsxs(y,{onSubmit:s,schema:E,defaultValues:{email:"usta@coderthemes.com",password:"USTA"},children:[e.jsx(L,{label:t("Email Address"),type:"email",name:"email",placeholder:t("Enter your email"),containerClass:"mb-3"}),e.jsx(S,{label:t("Password"),name:"password",placeholder:t("Enter your password"),containerClass:"mb-3",children:e.jsx(m,{to:"/account/forget-password2",className:"text-muted float-end",children:e.jsx("small",{children:t("Forgot your password?")})})}),e.jsx(k,{name:"checkbox-signin",type:"checkbox",label:"Remeber me",containerClass:"mb-3",defaultChecked:!0}),e.jsx("div",{className:"d-grid mb-0 text-center",children:e.jsxs(P,{variant:"primary",type:"submit",disabled:o,children:[e.jsx("i",{className:"mdi mdi-login"})," ",t("Log In")]})}),e.jsx(C,{})]})]})]})};export{H as default};
