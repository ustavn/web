import{u as g}from"./useQuery-bcafff71.js";import{a3 as o,a4 as y,a5 as m,ac as l,a2 as p}from"./index-d44dc752.js";import{u as d}from"./useMutation-e99f167c.js";async function f(s){const t={keyword:s.keyword};s.page!==void 0&&(t.page=s.page),s.pageSize!==void 0&&(t.pageSize=s.pageSize);const e=await o.get("/user/list",{params:t});return m(e)}async function q(){const s=await o.get("/user");return y(s)}async function U(s){const t=await o.get(`/user/${s}/info`);return y(t)}async function h(s){const t=await o.post("/user",s);return y(t)}async function v(s,t){const e=await o.post(`/user/${s}`,t);return y(e)}async function w(s){return(await o.delete(`/user/${s}`)).data}async function F(s,t){const e=await o.put(`/user/${s}/name`,t);return y(e)}async function K(s,t){const e=await o.put(`/user/${s}/phone`,t);return y(e)}async function Q(s){const t=await o.post(`/user/${s}/phone/send-opt`),e=y(t);return typeof e=="string"?e:String(e)}async function C(s,t){return(await o.post(`/user/${s}/phone/active`,t)).data}function M(s){return g({queryKey:["users",s],queryFn:()=>f(s),staleTime:3e4,retry:2,enabled:!!s.keyword&&s.keyword.trim().length>0})}function E(){return g({queryKey:["current-user"],queryFn:()=>q(),staleTime:3e4,retry:2})}function $(s){return g({queryKey:["user",s],queryFn:()=>U(s),enabled:!!s&&s.length>0,staleTime:3e4,retry:2})}function T(){const s=l(),{showNotification:t}=p();return d({mutationFn:e=>h(e),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),t({message:"User created successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to create user";t({message:n,type:"error"})}})}function k(){const s=l(),{showNotification:t}=p();return d({mutationFn:({id:e,data:n})=>v(e,n),onSuccess:(e,{id:n})=>{s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["user",n]}),s.invalidateQueries({queryKey:["current-user"]}),t({message:"User updated successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to update user";t({message:n,type:"error"})}})}function x(){const s=l(),{showNotification:t}=p();return d({mutationFn:e=>w(e),onSuccess:()=>{s.invalidateQueries({queryKey:["users"]}),t({message:"User deleted successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to delete user";t({message:n,type:"error"})}})}function O(){const s=l(),{showNotification:t}=p();return d({mutationFn:({id:e,data:n})=>F(e,n),onSuccess:(e,{id:n})=>{s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["user",n]}),s.invalidateQueries({queryKey:["current-user"]}),t({message:"User name updated successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to update user name";t({message:n,type:"error"})}})}function _(){const s=l(),{showNotification:t}=p();return d({mutationFn:({id:e,data:n})=>K(e,n),onSuccess:(e,{id:n})=>{s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["user",n]}),s.invalidateQueries({queryKey:["current-user"]}),t({message:"User phone updated successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to update user phone";t({message:n,type:"error"})}})}function b(){const{showNotification:s}=p();return d({mutationFn:t=>Q(t),onSuccess:()=>{s({message:"OTP sent successfully",type:"success"})},onError:t=>{var n,a,u,i;const e=((a=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:a.error)||((i=(u=t==null?void 0:t.response)==null?void 0:u.data)==null?void 0:i.message)||(t==null?void 0:t.message)||"Failed to send OTP";s({message:e,type:"error"})}})}function z(){const s=l(),{showNotification:t}=p();return d({mutationFn:({id:e,data:n})=>C(e,n),onSuccess:(e,{id:n})=>{s.invalidateQueries({queryKey:["users"]}),s.invalidateQueries({queryKey:["user",n]}),s.invalidateQueries({queryKey:["current-user"]}),t({message:"Phone activated successfully",type:"success"})},onError:e=>{var a,u,i,c;const n=((u=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:u.error)||((c=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:c.message)||(e==null?void 0:e.message)||"Failed to activate phone";t({message:n,type:"error"})}})}export{T as a,x as b,M as c,k as d,$ as e,O as f,_ as g,b as h,z as i,E as u};
