import{ag as F,r,j as x,ah as B,ai as we,aj as Y,ak as H,al as he,am as xe,an as ve,ao as be,ap as G,aq as Ce,u as S,c as O,Y as ye,ar as De,a8 as Z,a9 as $e,Z as Ee,a6 as ke,$ as Ne}from"./index-d293edc7.js";import{$ as Pe,u as je}from"./import-cf9b8fa2.js";import{u as Ie,a as Te,m as Re}from"./mergeOptionsWithPopperConfig-9f9a5124.js";import{u as Me}from"./useClickOutside-abdadf94.js";import{I as z}from"./InputGroupContext-e5b66b7c.js";import{B as Se}from"./Button-0bff1f4f.js";function Oe(t,e,o,n=!1){const s=F(o);r.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,s,n),()=>a.removeEventListener(e,s,n)},[t])}const Ae=r.createContext(null),_=Ae,Fe=["children","usePopper"];function We(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}const _e=()=>{};function J(t={}){const e=r.useContext(_),[o,n]=Ie(),s=r.useRef(!1),{flip:a,offset:u,rootCloseEvent:i,fixed:d=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:v=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!s.current&&(s.current=!0);const $=R=>{e==null||e.toggle(!1,R)},{placement:E,setMenu:y,menuElement:I,toggleElement:k}=e||{},w=Te(k,I,Re({placement:l||E||"bottom-start",enabled:v,enableEvents:c??g,offset:u,flip:a,fixed:d,arrowElement:o,popperConfig:m})),T=Object.assign({ref:y||_e,"aria-labelledby":k==null?void 0:k.id},w.attributes.popper,{style:w.styles.popper}),b={show:g,placement:E,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:v?w:null,arrowProps:v?Object.assign({ref:n},w.attributes.arrow,{style:w.styles.arrow}):{}};return Me(I,$,{clickTrigger:i,disabled:!g}),[T,b]}function Q(t){let{children:e,usePopper:o=!0}=t,n=We(t,Fe);const[s,a]=J(Object.assign({},n,{usePopper:o}));return x.jsx(x.Fragment,{children:e(s,a)})}Q.displayName="DropdownMenu";const X=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},q=()=>{};function ee(){const t=Pe(),{show:e=!1,toggle:o=q,setToggle:n,menuElement:s}=r.useContext(_)||{},a=r.useCallback(i=>{o(!e,i)},[e,o]),u={id:t,ref:n||q,onClick:a,"aria-expanded":!!e};return s&&X(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:o}]}function te({children:t}){const[e,o]=ee();return x.jsx(x.Fragment,{children:t(e,o)})}te.displayName="DropdownToggle";const Ue=["eventKey","disabled","onClick","active","as"];function Be(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}function oe({key:t,href:e,active:o,disabled:n,onClick:s}){const a=r.useContext(B),u=r.useContext(we),{activeKey:i}=u||{},d=H(t,e),l=o==null&&t!=null?H(i)===d:o;return[{onClick:F(c=>{n||(s==null||s(c),a&&!c.isPropagationStopped()&&a(d,c))}),"aria-disabled":n||void 0,"aria-selected":l,[Y("dropdown-item")]:""},{isActive:l}]}const ne=r.forwardRef((t,e)=>{let{eventKey:o,disabled:n,onClick:s,active:a,as:u=he}=t,i=Be(t,Ue);const[d]=oe({key:o,href:i.href,disabled:n,onClick:s,active:a});return x.jsx(u,Object.assign({},i,{ref:e},d))});ne.displayName="DropdownItem";function V(){const t=be(),e=r.useRef(null),o=r.useCallback(n=>{e.current=n,t()},[t]);return[e,o]}function W({defaultShow:t,show:e,onSelect:o,onToggle:n,itemSelector:s=`* [${Y("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:i}){const d=xe(),[l,m]=je(e,t,n),[c,v]=V(),g=c.current,[$,E]=V(),y=$.current,I=ve(l),k=r.useRef(null),w=r.useRef(!1),T=r.useContext(B),b=r.useCallback((p,f,C=f==null?void 0:f.type)=>{m(p,{originalEvent:f,source:C})},[m]),R=F((p,f)=>{o==null||o(p,f),b(!1,f,"select"),f.isPropagationStopped()||T==null||T(p,f)}),D=r.useMemo(()=>({toggle:b,placement:u,show:l,menuElement:g,toggleElement:y,setMenu:v,setToggle:E}),[b,u,l,g,y,v,E]);g&&I&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const h=F(()=>{y&&y.focus&&y.focus()}),P=F(()=>{const p=k.current;let f=a;if(f==null&&(f=c.current&&X(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(p))return;const C=G(c.current,s)[0];C&&C.focus&&C.focus()});r.useEffect(()=>{l?P():w.current&&(w.current=!1,h())},[l,w,h,P]),r.useEffect(()=>{k.current=null});const A=(p,f)=>{if(!c.current)return null;const C=G(c.current,s);let j=C.indexOf(p)+f;return j=Math.max(0,Math.min(j,C.length)),C[j]};return Oe(r.useCallback(()=>d.document,[d]),"keydown",p=>{var f,C;const{key:j}=p,M=p.target,K=(f=c.current)==null?void 0:f.contains(M),ge=(C=$.current)==null?void 0:C.contains(M);if(/input|textarea/i.test(M.tagName)&&(j===" "||j!=="Escape"&&K||j==="Escape"&&M.type==="search")||!K&&!ge||j==="Tab"&&(!c.current||!l))return;k.current=p.type;const U={originalEvent:p,source:p.type};switch(j){case"ArrowUp":{const N=A(M,-1);N&&N.focus&&N.focus(),p.preventDefault();return}case"ArrowDown":if(p.preventDefault(),!l)m(!0,U);else{const N=A(M,1);N&&N.focus&&N.focus()}return;case"Tab":Ce(M.ownerDocument,"keyup",N=>{var L;(N.key==="Tab"&&!N.target||!((L=c.current)!=null&&L.contains(N.target)))&&m(!1,U)},{once:!0});break;case"Escape":j==="Escape"&&(p.preventDefault(),p.stopPropagation()),m(!1,U);break}}),x.jsx(B.Provider,{value:R,children:x.jsx(_.Provider,{value:D,children:i})})}W.displayName="Dropdown";W.Menu=Q;W.Toggle=te;W.Item=ne;const se=r.createContext({});se.displayName="DropdownContext";const re=se,ae=r.forwardRef(({className:t,bsPrefix:e,as:o="hr",role:n="separator",...s},a)=>(e=S(e,"dropdown-divider"),x.jsx(o,{ref:a,className:O(t,e),role:n,...s})));ae.displayName="DropdownDivider";const Ke=ae,ce=r.forwardRef(({className:t,bsPrefix:e,as:o="div",role:n="heading",...s},a)=>(e=S(e,"dropdown-header"),x.jsx(o,{ref:a,className:O(t,e),role:n,...s})));ce.displayName="DropdownHeader";const Le=ce,le=r.forwardRef(({bsPrefix:t,className:e,eventKey:o,disabled:n=!1,onClick:s,active:a,as:u=ye,...i},d)=>{const l=S(t,"dropdown-item"),[m,c]=oe({key:o,href:i.href,disabled:n,onClick:s,active:a});return x.jsx(u,{...i,...m,ref:d,className:O(e,l,c.isActive&&"active",n&&"disabled")})});le.displayName="DropdownItem";const He=le,ue=r.forwardRef(({className:t,bsPrefix:e,as:o="span",...n},s)=>(e=S(e,"dropdown-item-text"),x.jsx(o,{ref:s,className:O(t,e),...n})));ue.displayName="DropdownItemText";const Ge=ue;function ie(t,e){return t}function de(t,e,o){const n=o?"top-end":"top-start",s=o?"top-start":"top-end",a=o?"bottom-end":"bottom-start",u=o?"bottom-start":"bottom-end",i=o?"right-start":"left-start",d=o?"right-end":"left-end",l=o?"left-start":"right-start",m=o?"left-end":"right-end";let c=t?u:a;return e==="up"?c=t?s:n:e==="end"?c=t?m:l:e==="start"?c=t?d:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const pe=r.forwardRef(({bsPrefix:t,className:e,align:o,rootCloseEvent:n,flip:s=!0,show:a,renderOnMount:u,as:i="div",popperConfig:d,variant:l,...m},c)=>{let v=!1;const g=r.useContext(De),$=S(t,"dropdown-menu"),{align:E,drop:y,isRTL:I}=r.useContext(re);o=o||E;const k=r.useContext(z),w=[];if(o)if(typeof o=="object"){const p=Object.keys(o);if(p.length){const f=p[0],C=o[f];v=C==="start",w.push(`${$}-${f}-${C}`)}}else o==="end"&&(v=!0);const T=de(v,y,I),[b,{hasShown:R,popper:D,show:h,toggle:P}]=J({flip:s,rootCloseEvent:n,show:a,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:d,placement:T});if(b.ref=Z(ie(c),b.ref),$e(()=>{h&&(D==null||D.update())},[h]),!R&&!u&&!k)return null;typeof i!="string"&&(b.show=h,b.close=()=>P==null?void 0:P(!1),b.align=o);let A=m.style;return D!=null&&D.placement&&(A={...m.style,...b.style},m["x-placement"]=D.placement),x.jsx(i,{...m,...b,style:A,...(w.length||g)&&{"data-bs-popper":"static"},className:O(e,$,h&&"show",v&&`${$}-end`,l&&`${$}-${l}`,...w)})});pe.displayName="DropdownMenu";const qe=pe,fe=r.forwardRef(({bsPrefix:t,split:e,className:o,childBsPrefix:n,as:s=Se,...a},u)=>{const i=S(t,"dropdown-toggle"),d=r.useContext(_);n!==void 0&&(a.bsPrefix=n);const[l]=ee();return l.ref=Z(l.ref,ie(u)),x.jsx(s,{className:O(o,i,e&&`${i}-split`,(d==null?void 0:d.show)&&"show"),...l,...a})});fe.displayName="DropdownToggle";const Ve=fe,me=r.forwardRef((t,e)=>{const{bsPrefix:o,drop:n="down",show:s,className:a,align:u="start",onSelect:i,onToggle:d,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:v=!0,...g}=Ee(t,{show:"onToggle"}),$=r.useContext(z),E=S(o,"dropdown"),y=ke(),I=D=>v===!1?D==="click":v==="inside"?D!=="rootClose":v==="outside"?D!=="select":!0,k=Ne((D,h)=>{var P;!((P=h.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&h.source==="mousedown"||(h.originalEvent.currentTarget===document&&(h.source!=="keydown"||h.originalEvent.key==="Escape")&&(h.source="rootClose"),I(h.source)&&(d==null||d(D,h)))}),T=de(u==="end",n,y),b=r.useMemo(()=>({align:u,drop:n,isRTL:y}),[u,n,y]),R={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return x.jsx(re.Provider,{value:b,children:x.jsx(W,{placement:T,show:s,onSelect:i,onToggle:k,focusFirstItemOnShow:l,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:$?g.children:x.jsx(m,{...g,ref:e,className:O(a,s&&"show",R[n])})})})});me.displayName="Dropdown";const tt=Object.assign(me,{Toggle:Ve,Menu:qe,Item:He,ItemText:Ge,Divider:Ke,Header:Le});export{tt as D,Ve as a,qe as b};
