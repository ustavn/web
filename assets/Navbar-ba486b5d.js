import{r as p,o as w,j as e,D as g,k as i,L as k,C as y,J as b}from"./index-580402c3.js";import{f as C,a as m,b as M}from"./menu-84edf215.js";const N=({item:a,tag:t,linkClassName:d,className:x,subMenuClassNames:j,activeMenuItems:s,toggleMenu:n})=>{const l=t||"div",[o,r]=p.useState(s.includes(a.key)),u=window.screen.width<=991&&o;p.useEffect(()=>{r(s.includes(a.key))},[s,a]);const f=c=>{c.preventDefault();const h=!o;return r(h),n&&n(a,h),!1};return e.jsxs(l,{className:i("dropdown",x,s.includes(a.key)?"active":""),children:[e.jsxs(k,{to:"",onClick:f,"data-menu-key":a.key,className:i("dropdown-toggle","arrow-none",d),id:a.key,role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":o,children:[a.icon&&e.jsx("i",{className:a.icon}),e.jsxs("span",{children:[" ",a.label," "]}),e.jsx("div",{className:"arrow-down"})]}),a.children&&e.jsx("div",{className:i(j,{show:u}),"aria-labelledby":a.key,children:a.children.map((c,h)=>e.jsx(g.Fragment,{children:c.children?e.jsx(e.Fragment,{children:e.jsx(N,{item:c,tag:"div",linkClassName:i("dropdown-item",s.includes(c.key)?"active":""),activeMenuItems:s,className:"",subMenuClassNames:i("dropdown-menu"),toggleMenu:n})}):e.jsx(e.Fragment,{children:e.jsx(v,{item:c,className:i("dropdown-item",{active:s.includes(c.key)})})})},h.toString()))})]})},E=({item:a,className:t,linkClassName:d})=>e.jsx("li",{className:`nav-item ${t}`,children:e.jsx(v,{item:a,className:d})}),v=({item:a,className:t})=>e.jsxs(k,{to:a.url,target:a.target,className:t,"data-menu-key":a.key,children:[a.icon&&e.jsx("i",{className:a.icon}),e.jsxs("span",{children:[" ",a.label," "]})]}),A=({menuItems:a})=>{const[t,d]=p.useState([]);let x=w();const j=(n,l)=>{l&&d([n.key,...m(a,n)])},s=p.useCallback(()=>{const n=document.getElementById("main-side-menu");let l=null;if(n){let o=n.getElementsByTagName("a");for(let r=0;r<o.length;++r)if(x.pathname===o[r].pathname){l=o[r];break}if(l){const r=l.getAttribute("data-menu-key"),u=C(a,r);u&&d([u.key,...m(a,u)])}}},[x.pathname,a]);return p.useEffect(()=>{a&&a.length>0&&s()},[s,a]),e.jsx("ul",{className:"navbar-nav w-100",id:"main-side-menu",children:(a||[]).map((n,l)=>e.jsx(g.Fragment,{children:n.children?e.jsx(N,{item:n,tag:"li",className:"nav-item",subMenuClassNames:i("dropdown-menu"),activeMenuItems:t,linkClassName:"nav-link",toggleMenu:j}):e.jsx(E,{item:n,linkClassName:"nav-link dropdown-toggle arrow-none",className:t.includes(n.key)?"show":""})},l.toString()))})},S=({isMenuOpened:a})=>e.jsx("div",{className:"topnav",children:e.jsx(y,{fluid:!0,children:e.jsx("nav",{className:"navbar navbar-expand-lg",children:e.jsx(b,{in:a,children:e.jsx("div",{className:"navbar-collapse active",children:e.jsx(A,{menuItems:M()})})})})})});export{S as default};
