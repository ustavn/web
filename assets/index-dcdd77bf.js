import{r as j,a as b,b as f,q as w,m as C,n,x as y,j as e,N,P,F as A,T as l,d as k,f as v,L as S}from"./index-b28ba44c.js";import{C as T}from"./CheckInput-a3efd8d2.js";import{P as d}from"./PasswordInput-d90b873a.js";import{A as E}from"./AccountWrapper-b2f42b1a.js";import{a as F}from"./auth-769fa937.js";import{u as c}from"./useTranslation-1f0aacab.js";import{B as L}from"./Button-31e96e58.js";import"./InputGroup-29560647.js";import"./InputGroupContext-b55b8044.js";function R(){const[s,r]=j.useState(!1),{t:a}=c(),o=b(),{isAuthenticated:i}=f(),{showNotification:m}=w(),u=C().shape({username:n().required(a("Please enter name")),email:n().email("Please enter valid email").required(a("Please enter email")),password1:n().required(a("Please enter password")).min(8,"Password is too short - should be 8 chars minimum").matches(/[a-zA-Z]/,"Password can only contain latin letters"),password2:n().oneOf([y("password1")],"Passwords must match")});return{loading:s,register:async({data:p})=>{const{username:h,email:x,password1:g}=p;r(!0);try{const t=await F.register({name:h,email:x,password:g});t!=null&&t.data.id&&(m({message:"Registration successful. Welcome aboard!",type:"success"}),o("/account/login"))}catch(t){m({message:t.toString(),type:"error"})}finally{r(!1)}},isAuthenticated:i,schema:u}}const I=()=>{const{t:s}=c();return e.jsx(k,{className:"mt-3",children:e.jsx(v,{className:"text-center",children:e.jsxs("p",{className:"text-muted",children:[s("Already have account?"),e.jsx(S,{to:"/account/login",className:"text-muted ms-1",children:e.jsx("b",{children:s("Log In")})})]})})})};function G(){const{t:s}=c(),{loading:r,register:a,isAuthenticated:o,schema:i}=R();return e.jsxs(e.Fragment,{children:[o&&e.jsx(N,{to:"/",replace:!0}),e.jsx(P,{title:"Register"}),e.jsxs(E,{bottomLinks:e.jsx(I,{}),children:[e.jsxs("div",{className:"text-center w-75 m-auto",children:[e.jsx("h4",{className:"text-dark-50 text-center mt-0 fw-bold",children:s("Free Sign Up")}),e.jsx("p",{className:"text-muted mb-4",children:s("Don't have an account? Create your account, it takes less than a minute")})]}),e.jsxs(A,{onSubmit:a,schema:i,defaultValues:{email:"usta@coderthemes.com",username:"USTA",password1:"USTACoderthemes",password2:"USTACoderthemes"},children:[e.jsx(l,{label:s("Full name"),type:"text",name:"username",placeholder:s("Enter your name"),containerClass:"mb-3"}),e.jsx(l,{label:s("Email Address"),type:"text",name:"email",placeholder:s("Enter your email"),containerClass:"mb-3"}),e.jsx(d,{label:s("Password"),name:"password1",placeholder:s("Enter password"),containerClass:"mb-3"}),e.jsx(d,{label:s("Confirm Password"),name:"password2",placeholder:s("Confirm password"),containerClass:"mb-3"}),e.jsx(T,{name:"checkbox",type:"checkbox",containerClass:"mb-2",label:e.jsxs(e.Fragment,{children:["I accept",e.jsx("span",{className:"text-muted cursor-pointer",children:"Terms and Conditions"})]}),defaultChecked:!0}),e.jsx("div",{className:"mb-3 text-center",children:e.jsx(L,{variant:"primary",type:"submit",disabled:r,children:s("Sign Up")})})]})]})]})}export{G as default};
